<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>GSoC’21 — Week 5 and 6 — BattBot is live! | Saransh Chopra</title> <meta name="author" content="Saransh Chopra"/> <meta name="description" content="Google Summer of Code with PyBaMM, NumFOCUS!"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://saransh-cpp.github.io/blog/2021/gsoc-w56/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://Saransh-cpp.github.io/"><span class="font-weight-bold">Saransh</span> Chopra</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/experiences/">experiences</a> </li> <li class="nav-item "> <a class="nav-link" href="/opensource/">open-source</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">talks</a> </li> <li class="nav-item "> <a class="nav-link" href="/grants/">grants</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">GSoC’21 — Week 5 and 6 — BattBot is live!</h1> <p class="post-meta">July 19, 2021</p> <p class="post-tags"> <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a>   ·   <a href="/blog/tag/pybamm"> <i class="fas fa-hashtag fa-sm"></i> pybamm</a>   <a href="/blog/tag/python"> <i class="fas fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/gsoc"> <i class="fas fa-hashtag fa-sm"></i> gsoc</a>   <a href="/blog/tag/numfocus"> <i class="fas fa-hashtag fa-sm"></i> numfocus</a>   <a href="/blog/tag/open-source"> <i class="fas fa-hashtag fa-sm"></i> open-source</a>     ·   <a href="/blog/category/experience"> <i class="fas fa-tag fa-sm"></i> experience</a>   </p> </header> <article class="post-content"> <p>With half of the coding period coming to an end, the bot is finally live! You can find it, tweeting Battery Simulations twice a day, here — <a href="https://twitter.com/battbot_" target="_blank" rel="noopener noreferrer">BattBot</a>. Once the <a href="https://github.com/pybamm-team/BattBot" target="_blank" rel="noopener noreferrer">repository</a> was moved to <a href="https://github.com/pybamm-team/BattBot" target="_blank" rel="noopener noreferrer">pybamm-team’s</a> account, and once the bot went live, a lot of things broke, and a lot of bugs surfaced up. Fixing these broken things was the main agenda for the last two weeks. Apart from the fixes, I also did make some substantial improvements in the bot in terms of reliability and user experience.</p> <h2 id="starting-the-week-with-degradation-comparisons">Starting the week with degradation comparisons</h2> <p>As I mentioned in my last and my last to last blog post, I wanted to implement the degradation comparisons in the 5th week which I did manage to, but the resultant plots were still coming out a bit weird. For instance, “Capacity [A.h]” was going up in some of the GIFs (with Marquis2019 parameter sets) instead of going down, and this was something that was not ideal.</p> <p align="center"> <img src="https://miro.medium.com/max/1400/1*nnsDT8caZkm6sEo4H9R5_A.png" width="100%"> </p> <div class="caption"> “Capacity [A.h]” going up with Marquis2019 parameter sets </div> <p>Interestingly, while simulating one random experiment, the degradation mechanisms started behaving even more weirdly. It seemed like the model had degradation for a cycle and then didn’t have one for the subsequent cycle.</p> <p align="center"> <img src="https://miro.medium.com/max/1400/1*I_1qpeMLY7Tpy6-aAl75NQ.png" width="100%"> </p> <div class="caption"> Plotting Single Particle Model with Chen2020 parameters and reaction limited SEI, for the experiment: [(‘Discharge at 3 C until 3.3 V’, ‘Charge at 3 C until 3.8 V’, ‘Hold at 3.8 V until 63 mA’)] </div> <p>We decided to pause with the degradation mechanisms branch to make sure that the bot doesn’t tweet out wrong or misguiding tweets. The branch is almost complete, and it will be merged whenever the plots start coming out without such errors (whenever the degradation mechanisms are fixed in PyBaMM).</p> <h2 id="battbot-is-born">BattBot is born</h2> <p align="center"> <img src="https://miro.medium.com/max/414/1*V5aJ2JTg4I6WyO_rFfw8yg.jpeg" width="20%"> </p> <p>A lot of new accounts were created in the last two weeks, a new Gmail account for the bot, a new Twitter account for all the tweets, a new Twitter Developer Account, and finally, a new Heroku account to deploy the replying functionality. The repository was also transferred to pybamm-team’s account where all the existing API keys were replaced with the bot’s API keys. A lot of issues started coming up after the bot started tweeting out, which were somehow related to moving the repository. These issues were fixed immediately but, the CI started failing and kept on failing for almost a week which I will be discussing in the next section.</p> <h2 id="the-failing-ci">The failing CI</h2> <p align="center"> <img src="https://miro.medium.com/max/998/1*JCqjAMPwnH5rJ1FuxA6vog.png" width="30%"> </p> <p>At the end of the third week, we decided to give the bot a good and dynamic description, to go with the plots that were being tweeted, and also added all the sensitive parameters which will be varied in the comparison plots. After this, the bot was almost ready for the first deployment and the new plots+description tweets started getting better attention than the only plot tweets.</p> <h2 id="storing-the-random-configurations-and-letting-anyone-play-with-it">Storing the random configurations and letting anyone play with it</h2> <p align="center"> <img src="https://miro.medium.com/max/1250/1*dEzJkVMAkJHXzOh6G2uEKQ.png" width="50%"> </p> <p>The CI initially started failing because of a missing <strong>init</strong>.py file in the PyBaMM repository which was fixed in a couple of days. But after that, the CI unexpectedly started failing again and the two major reasons for this were my repository access rights and 2 misplaced lines in the YAML file. Both of them were fixed and a PERSONAL_GITHUB_TOKEN was added to push directly to the protected branch but the tests were still failing. The main reason for this was the inaccessibility of repository secrets to a forked repository, as now I was making PRs from a fork. We never wanted to pass the repository secrets to a fork as they could then be exploited by writing a malicious script and creating a PR. Hence, to tackle this, we decided to run only the tests that don’t need Twitter API keys on PRs from a fork, and to achieve this, the tests directory was bifurcated into two sub-directories which were with_keys and without_keys . After this, the YAML file was again updated to account for these changes and finally, the tests started passing, after failing for almost a week.</p> <p>A lot of other small changes were also made. Listing some of them here -</p> <ul> <li><a href="https://github.com/pybamm-team/BattBot/pull/34" target="_blank" rel="noopener noreferrer">Randomising Tweet time to some extent and changing the frequency</a></li> <li><a href="https://github.com/pybamm-team/BattBot/pull/38" target="_blank" rel="noopener noreferrer">Fixing parameter_value_generator to include functional parameters too</a></li> <li><a href="https://github.com/pybamm-team/BattBot/pull/44" target="_blank" rel="noopener noreferrer">Fixing a bug in the tweet text</a></li> <li><a href="https://github.com/pybamm-team/BattBot/pull/40" target="_blank" rel="noopener noreferrer">Varying “Ambient temperature [K]” and “Current function [A]” while tweeting out constant discharge plots</a></li> <li>And finally, <a href="https://github.com/pybamm-team/BattBot/pull/41" target="_blank" rel="noopener noreferrer">adding a base for the replying functionality</a> </li> </ul> <hr> <div class="caption"> (Same post, but on <a href="https://whiteviolin.medium.com/gsoc21-week-5-and-6-battbot-is-live-91831dd2e5a4" target="_blank" rel="noopener noreferrer">medium</a> (I am migrating my blogs from medium to my website)) </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2025 Saransh Chopra. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Last updated: November 01, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script src="/assets/js/zoom.js"></script> <script src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>