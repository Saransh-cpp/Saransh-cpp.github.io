<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>GSoC’21 — Week 1 and 2 — Twitter API, GitHub Actions, and Sensitive Parameters | Saransh Chopra</title> <meta name="author" content="Saransh Chopra"/> <meta name="description" content="Google Summer of Code with PyBaMM, NumFOCUS!"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://saransh-cpp.github.io/blog/2021/gsoc-w12/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://Saransh-cpp.github.io/"><span class="font-weight-bold">Saransh</span> Chopra</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/experiences/">experiences</a> </li> <li class="nav-item "> <a class="nav-link" href="/opensource/">open-source</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/supervise/">supervise</a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">talks</a> </li> <li class="nav-item "> <a class="nav-link" href="/awards/">awards</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">GSoC’21 — Week 1 and 2 — Twitter API, GitHub Actions, and Sensitive Parameters</h1> <p class="post-meta">June 22, 2021</p> <p class="post-tags"> <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a>   ·   <a href="/blog/tag/pybamm"> <i class="fas fa-hashtag fa-sm"></i> pybamm</a>   <a href="/blog/tag/python"> <i class="fas fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/gsoc"> <i class="fas fa-hashtag fa-sm"></i> gsoc</a>   <a href="/blog/tag/numfocus"> <i class="fas fa-hashtag fa-sm"></i> numfocus</a>     ·   <a href="/blog/category/experience"> <i class="fas fa-tag fa-sm"></i> experience</a>   </p> </header> <article class="post-content"> <p>The First 2 weeks of Google Summer of Code 2021 are now over, and spoiler alert, these 2 weeks were more about development and less about battery mathematical modeling as compared to the community bonding time (if you missed that blog, read it <a href="https://whiteviolin.medium.com/my-gsoc21-experience-community-bonding-f31ea7bb624c" target="_blank" rel="noopener noreferrer">here</a>). Here is every major thing I did in these two weeks while working on my project (<a href="https://summerofcode.withgoogle.com/projects/#5045812318437376" target="_blank" rel="noopener noreferrer">“Automated Twitter Bot to run PyBaMM Simulations”</a>) —</p> <h2 id="gif-tweets-and-the-twitter-api">GIF Tweets and the Twitter API</h2> <p align="center"> <img src="https://miro.medium.com/max/1400/1*z_AwTGIVYneAzpzwPUGDxw.gif" width="100%"> </p> <div class="caption"> Marquis2019 parameter set, solved using CasADi solver with ‘safe’ mode with the experiment - [(‘Discharge at 3 C until 3.3 V’, ‘Rest for 1 minute’, ‘Charge at 3 C until 4.1 V’, ‘Hold at 4.1 V until 7 mA’, ‘Rest for 10 minutes’)] </div> <p>At the end of the community bonding time, I and my mentors (their suggestion) decided to tweet GIFs of the plots rather than a single picture at some random time. Though it wasn’t that tough to generate them, it was tough to keep them in a certain boundary condition so that they can be tweeted using the Twitter API. While doing this, I learned a lot about image processing, resizing, and manipulation using Pillow and Imageio. I was able to tweet small GIFs or a big GIF but compressed to a smaller size using Tweepy, but we eventually thought of switching to the traditional way, where we can tweet bigger files by directly interacting with the API (without using a wrapper library like Tweepy).</p> <h2 id="the-infinite-crash-issue">The infinite crash issue</h2> <p align="center"> <img src="https://miro.medium.com/max/1400/0*VQeOrjv9Ym9lAiCG.jpg" width="100%"> </p> <div class="caption"> Me and the CI/CD pipeline I built using GitHub Actions for a couple of days </div> <p>It didn’t take long for everyone to realize that a very small amount of these randomly put-together configurations crashes the solver in a way that the program starts printing warnings/statements infinitely, and never stops. This causes the tests to fail (as the integration tests do produce some random simulations) on GitHub Actions because of the 360-minute timeout. It also causes the Tweeting functionality to fail sometimes in a similar fashion. A few measures involving threading and multiprocessing have been implemented but I am still trying to implement an ever smarter time-out functionality. With this, coverage.py was also extended to account for the tests being run using a subprocess or a thread (initially, it did work on my machine but it took me another day to figure out why it was failing on GitHub Actions).</p> <h2 id="comparison-plots-and-the-sensitive-parameters">Comparison plots and the Sensitive Parameters</h2> <p align="center"> <img src="https://miro.medium.com/max/1400/1*GFqyonhQUIlTEjE7Nq24cw.png" width="100%"> </p> <p>These plots are the ones I find the most interesting and they were implemented in these 2 weeks (working on the degradation comparison plots). With these plots, a lot of sensitive parameters and degradation parameters were discussed which will most probably be added to the bot in the upcoming weeks. Finally, some bugs and minor issues related to the comparison plots were also resolved. You can find the developing repository <a href="https://github.com/Saransh-cpp/PyBaMM-Twitter-Bot" target="_blank" rel="noopener noreferrer">here</a>.</p> <p>In the next 2 weeks, I will implement the degradation comparisons, work more on the sensitive parameters with my mentors, and maybe shift the bot to an official Twitter account! Follow <a href="https://twitter.com/saranshchopra7" target="_blank" rel="noopener noreferrer">me</a> and <a href="https://twitter.com/pybamm_" target="_blank" rel="noopener noreferrer">PyBaMM</a> on Twitter to keep an eye on the bot’s official announcements.</p> <hr> <div class="caption"> (Same post, but on <a href="https://whiteviolin.medium.com/gsoc21-week-1-and-2-twitter-api-github-actions-and-sensitive-parameters-9d7e79de183a" target="_blank" rel="noopener noreferrer">medium</a> (I am migrating my blogs from medium to my website)) </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Saransh Chopra. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Last updated: August 09, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script src="/assets/js/zoom.js"></script> <script src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>